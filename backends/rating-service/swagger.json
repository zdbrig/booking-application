{"swagger": "2.0", "basePath": "/", "paths": {"/ratings": {"post": {"responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/Rating"}}}, "operationId": "post_rating_list", "parameters": [{"name": "payload", "required": true, "in": "body", "schema": {"$ref": "#/definitions/RatingInput"}}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["ratings"]}}, "/ratings/guest/{guest_id}": {"parameters": [{"name": "guest_id", "in": "path", "required": true, "type": "string"}], "get": {"responses": {"200": {"description": "Success", "schema": {"type": "array", "items": {"$ref": "#/definitions/Rating"}}}}, "operationId": "get_guest_ratings", "parameters": [{"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["ratings"]}}, "/ratings/room/{room_id}": {"parameters": [{"name": "room_id", "in": "path", "required": true, "type": "string"}], "get": {"responses": {"200": {"description": "Success", "schema": {"type": "array", "items": {"$ref": "#/definitions/Rating"}}}}, "operationId": "get_room_ratings", "parameters": [{"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["ratings"]}}, "/ratings/room/{room_id}/average": {"parameters": [{"name": "room_id", "in": "path", "required": true, "type": "string"}], "get": {"responses": {"200": {"description": "Success"}}, "operationId": "get_room_average_rating", "tags": ["ratings"]}}}, "info": {"title": "API", "version": "1.0"}, "produces": ["application/json"], "consumes": ["application/json"], "tags": [{"name": "ratings", "description": "Rating operations"}], "definitions": {"RatingInput": {"required": ["guest_id", "rating", "room_id"], "properties": {"room_id": {"type": "string", "description": "Room ID"}, "guest_id": {"type": "string", "description": "Guest ID"}, "rating": {"type": "integer", "description": "Rating value", "minimum": 1, "maximum": 5}, "comment": {"type": "string", "description": "Review comment"}}, "type": "object"}, "Rating": {"required": ["guest_id", "rating", "room_id"], "properties": {"id": {"type": "string", "description": "Rating ID", "readOnly": true}, "room_id": {"type": "string", "description": "Room ID"}, "guest_id": {"type": "string", "description": "Guest ID"}, "rating": {"type": "integer", "description": "Rating value", "minimum": 1, "maximum": 5}, "comment": {"type": "string", "description": "Review comment"}, "created_at": {"type": "string", "format": "date-time", "description": "Rating timestamp", "readOnly": true}}, "type": "object"}}, "responses": {"ParseError": {"description": "When a mask can't be parsed"}, "MaskError": {"description": "When any error occurs on mask"}}}
